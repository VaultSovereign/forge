# Forge — Release 1.1.0-dev

**Root:** `pending` (will be generated by witness.js in devcontainer)
**Capsule:** mcr.microsoft.com/devcontainers/javascript-node:22-bookworm

## Essence

Phase 2: TypeScript Capsule Foundation — hermetic Node 22 + pnpm devcontainer with zero-dep witness, receipt primitives, Merkle rollup, and CI signing.

## Highlights

- ✅ `.devcontainer/` - Node 22 + pnpm with persistent store cache
- ✅ `scripts/witness.js` - Zero-dep build/use attestation (pure Node.js)
- ✅ `scripts/receipt.sh` - Receipt primitives (write, merkle rollup)
- ✅ `scripts/rollup.sh` - Daily ROOT.txt + optional GPG signing
- ✅ `scripts/root-link.sh` - Chain linking (prev_root → new_root)
- ✅ `.github/workflows/forge-ci.yml` - CI with witness → rollup → sign → upload
- ✅ `docs/PHASE2_RUNCARD.md` - Verification workflow (15-25 min)

## Verification

Inside devcontainer:

```bash
# Install & test
pnpm i --frozen-lockfile || pnpm i
pnpm test

# Lint & typecheck (best-effort)
pnpm run -r typecheck || true
pnpm run -r lint || true

# Witness
node ./scripts/witness.js

# Rollup
./scripts/rollup.sh

# Link
./scripts/root-link.sh

# Verify ROOT
grep '^root:' receipts/ROOT.txt
```

## Operator Rituals

```bash
pnpm i --frozen-lockfile || pnpm i
pnpm test
node ./scripts/witness.js
./scripts/rollup.sh
grep '^root:' receipts/ROOT.txt
```

## Provenance

- Git HEAD: main
- Timestamp: 2025-10-06
- Commit: d5ca7c0 (feat: Phase 2 capsule)

## Sign-off

- [ ] Tests pass (or expected set)
- [ ] Witness creates receipts/forge/<date>/*.json
- [ ] Rollup creates receipts/ROOT.txt with hash
- [ ] Link creates receipts/links/<date>/*.json + LAST_ROOT.txt
- [ ] CI artifacts uploaded
- [ ] Tag v1.1.0-rc.1: signed ROOT present

## Next Steps

1. Open in devcontainer: `code ~/GitHub/forge`
2. Run verification workflow (see above)
3. Commit receipts
4. Open PR to main
5. Tag v1.1.0-rc.1 for CI signing

---

**Generated**: 2025-10-06
